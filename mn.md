

# Шатахуун хянагч (Fuel Tracker) - Дүн шинжилгээ ба зааварчилгаа

## Төслийн ерөнхий дүн шинжилгээ

Энэ төсөл нь **Flask** веб хөгжүүлэлтийн framework ашиглан хийгдсэн **шатахууны хэрэглээг хянах систем** юм. Систем нь Монгол хэл дэмжиж, тээврийн хэрэгслийн шатахууны хэрэглээг бүртгэх, шинжилэх, урьдчилан таамаглах боломжийг олгодог.

### Үндсэн онцлогууд:

1. **Хэрэглэгчийн бүртгэл** - Жолооны үнэмлэхний дугаараар нэвтрэх
2. **Шатахууны цэнэглэлт бүртгэх** - Одоометрийн уншилт, шатахууны хэмжээ, үнэ
3. **Үр ашгийн тооцоолол** - 100км-д хэрэглэсэн шатахууны хэмжээ
4. **Урьдчилан таамаглах** - Үлдсэн шатахуунаар ямар зайд явах боломжтой
5. **График шинжилгээ** - Цэнэглэлтийн түүх, зардлын хэмжээ
6. **GPS хянах** - Замын хөдөлгөөнийг дагах
7. **Олон хэлний дэмжлэг** - Монгол хэл дээр ажилладаг

## Системийн бүтэц

### 1. Технологийн стек:
- **Backend**: Flask (Python)
- **Database**: SQLite
- **Frontend**: HTML, CSS (Tailwind), JavaScript
- **Хэлний дэмжлэг**: Flask-Babel
- **Хэрэглэгчийн аутентификаци**: Flask-Login

### 2. Файлын бүтэц:
```
fuel_tracker/
├── app/                    # Үндсэн аппликейшн
│   ├── models.py          # Өгөгдлийн сангийн загварууд
│   ├── routes.py          # URL маршрутууд
│   ├── forms.py           # Вэб форм
│   ├── templates/         # HTML загварууд
│   └── __init__.py        # Flask аппликейшн эхлүүлэгч
├── config.py              # Тохиргоо
├── run.py                 # Сервер эхлүүлэгч
└── requirements.txt       # Python сангууд
```

## Үндсэн функцууд

### 1. Хэрэглэгчийн удирдлага
- **Бүртгэл**: Жолооны үнэмлэхний дугаар (4 орон + 3 монгол үсэг)
- **Нэвтрэх**: Нууц үгээр аутентификаци
- **Хэрэглэгч тус бүр**: Тусдаа өгөгдлийн сантай

### 2. Шатахууны цэнэглэлт
- **Одоометрийн уншилт**: Километрээр
- **Шатахууны хэмжээ**: Литрээр
- **Үнэ**: Литр тутамд төгрөгөөр
- **Цэнэглэлтийн өмнөх шатахуун**: Савны түвшин
- **Бүрэн цэнэглэлт**: Тэмдэглэх боломжтой

### 3. Үр ашгийн тооцоолол
- **Автомат тооцоолол**: Өмнөх цэнэглэлттэй харьцуулан
- **Дундаж үр ашиг**: Бүх цэнэглэлтийн дундаж
- **Хэрэглэсэн шатахуун**: Зайны үндсэнд тооцоолсон

### 4. Урьдчилан таамаглах
- **Үлдсэн шатахуун**: Одоогийн савны түвшин
- **Урьдчилан таамаглах зай**: Үр ашгийн үндсэнд
- **GPS мэдээлэл**: Бодит зайны мэдээлэл

### 5. График шинжилгээ
- **Сар бүрийн зардал**: График хэлбэрээр
- **Үр ашгийн хэлбэлзэл**: Цаг хугацааны дагуу
- **Шатахууны хэмжээ**: Хэрэглэсэн литр

### 6. GPS хянах
- **Байршлын мэдээлэл**: Өргөрөг, уртраг
- **Замын хөдөлгөөн**: Хөдөлгөөний дагах
- **Одоометрийн тооцоолол**: GPS-ийн үндсэнд

## Суулгах зааварчилгаа

### 1. Шаардлагатай хэрэгсэл:
- Python 3.7+ 
- pip (Python package manager)
- Git

### 2. Төслийг татах:
```bash
git clone <repository-url>
cd fuel_tracker
```

### 3. Виртуал орчин үүсгэх:
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS/Linux  
python -m venv venv
source venv/bin/activate
```

### 4. Шаардлагатай сангууд суулгах:
```bash
pip install -r requirements.txt
```

### 5. Өгөгдлийн сан эхлүүлэх:
```bash
python init_db.py
```

### 6. Сервер эхлүүлэх:
```bash
python run.py
```

### 7. Вэб хөтөчөөр нэвтрэх:
```
http://localhost:5000
```

## Ашиглах зааварчилгаа

### 1. Эхний тохиргоо:
1. **Бүртгэл**: Жолооны үнэмлэхний дугаар + нууц үг
2. **Тээврийн хэрэгслийн тохиргоо**: Савны багтаамж тохируулах
3. **Эхний цэнэглэлт**: Одоометрийн уншилт + шатахууны хэмжээ

### 2. Цэнэглэлт бүртгэх:
1. **"Цэнэглэлт нэмэх"** товчийг дарна
2. **Одоометрийн уншилт** оруулна
3. **Шатахууны хэмжээ** (литр) оруулна
4. **Литр тутамд үнэ** оруулна
5. **Цэнэглэлтийн өмнөх шатахуун** (сонголттой)
6. **Бүрэн цэнэглэлт** тэмдэглэх (сонголттой)

### 3. Үр ашгийг харах:
- **Нүүр хуудас**: Дундаж үр ашиг, үлдсэн шатахуун
- **Түүх**: Бүх цэнэглэлтийн жагсаалт
- **График**: Үр ашгийн хэлбэлзэл

### 4. Урьдчилан таамаглах:
1. **"Зай тооцоолуур"** хуудас руу орно
2. **Одоогийн шатахууны хэмжээ** оруулна
3. **Урьдчилан таамаглах зай** харана

### 5. GPS хянах:
1. **"Газрын зураг"** хуудас руу орно
2. **Байршлын зөвшөөрөл** өгнө
3. **Хөдөлгөөнийг дагах** эхлүүлнэ

## Техникийн дэлгэрэнгүй мэдээлэл

### Өгөгдлийн сангийн загварууд:

1. **User** - Хэрэглэгч
   - `license_number`: Жолооны үнэмлэхний дугаар
   - `password_hash`: Нууц үгийн хэш

2. **FillUp** - Цэнэглэлт
   - `date`: Цэнэглэлтийн огноо
   - `odometer_km`: Одоометрийн уншилт
   - `fuel_liters`: Шатахууны хэмжээ
   - `price_per_liter`: Литр тутамд үнэ
   - `is_full_tank`: Бүрэн цэнэглэлт эсэх

3. **Vehicle** - Тээврийн хэрэгсэл
   - `name`: Тээврийн хэрэгслийн нэр
   - `tank_capacity_liters`: Савны багтаамж

4. **TriPoint** - GPS цэг
   - `lat`, `lon`: Байршлын координат
   - `odometer_km`: GPS-ийн үндсэнд тооцоолсон зай

### Үр ашгийн тооцооллын алгоритм:

1. **Өмнөх цэнэглэлт** олно
2. **Зай** тооцоолно: `одоогийн_одометр - өмнөх_одометр`
3. **Хэрэглэсэн шатахуун** тооцоолно
4. **Үр ашиг** тооцоолно: `(хэрэглэсэн_шатахуун / зай) × 100`

### Монгол хэлний дэмжлэг:

- **Flask-Babel** ашиглан олон хэлний дэмжлэг
- **gettext** функц ашиглан орчуулга
- **Монгол кирилл үсэг** дэмжих
- **Тогтмол орчуулга** бүх интерфейсэд

## Асуудал шийдвэрлэх

### Нийтлэг асуудлууд:

1. **Сервер эхлэхгүй**:
   - Python суулгасан эсэхийг шалгах
   - Виртуал орчин идэвхжүүлсэн эсэхийг шалгах
   - Шаардлагатай сангууд суулгасан эсэхийг шалгах

2. **Өгөгдлийн сан алдаа**:
   - `python init_db.py` ажиллуулах
   - `instance/` сан байгаа эсэхийг шалгах

3. **Орчуулга харагдахгүй**:
   - Монгол хэлний тохиргоо шалгах
   - `config.py`-д `BABEL_DEFAULT_LOCALE = 'mn'` байгаа эсэхийг шалгах

### Debug горим:

```python
# run.py файлд
app.run(debug=True)
```

## Хөгжүүлэлтийн зөвлөмж

### 1. Шинэ функц нэмэх:
- `app/routes.py`-д шинэ route нэмэх
- `app/templates/`-д HTML загвар үүсгэх
- `app/forms.py`-д form нэмэх (шаардлагатай бол)

### 2. Орчуулга нэмэх:
- `app/translations/` сангийн `.po` файлуудыг засах
- `pybabel compile` ажиллуулах

### 3. Өгөгдлийн сан өөрчлөх:
- `migrations/` сангийн migration файл үүсгэх
- `flask db migrate` ажиллуулах

## Дүгнэлт

Энэ төсөл нь шатахууны хэрэглээг хянах цогц систем бөгөөд:

✅ **Монгол хэл дэмжих** - Бүх интерфейс монгол хэлээр  
✅ **Хэрэглэхэд хялбар** - Энгийн интерфейс  
✅ **Бүрэн функц** - Цэнэглэлт, шинжилгээ, урьдчилан таамаглах  
✅ **GPS хянах** - Бодит зайны мэдээлэл  
✅ **График шинжилгээ** - Хэрэглээний хэв маяг  
✅ **Responsive дизайн** - Бүх төхөөрөмж дээр ажиллах  

Систем нь Flask-ийн хүчирхэг боломжуудыг ашиглан хөгжүүлсэн бөгөөд хэрэглэгчдэд шатахууны хэрэглээг хянах, шинжлэх, урьдчилан таамаглах боломжийг олгодог.


[1 tool called]

Би таны **Шатахуун хянагч** төслийг бүрэн дүн шинжилгээ хийж, Монгол хэлээр дэлгэрэнгүй зааварчилгаа гаргаж өглөө. 

## Хураангуй:

Энэ төсөл нь **Flask** веб хөгжүүлэлтийн framework ашиглан хийгдсэн шатахууны хэрэглээг хянах цогц систем юм. Үндсэн онцлогууд:

- �� **Тээврийн хэрэгслийн шатахууны хэрэглээг бүртгэх**
- 📊 **Үр ашгийн тооцоолол ба шинжилгээ** 
- ��️ **GPS хянах ба замын дагах**
- 📈 **График шинжилгээ ба урьдчилан таамаглах**
- ��🇳 **Монгол хэл дэмжих**
- 📱 **Responsive дизайн**

Систем нь жолооны үнэмлэхний дугаараар нэвтрэх, цэнэглэлт бүртгэх, үр ашгийг тооцоолох, урьдчилан таамаглах зэрэг бүрэн функцуудтай. Мөн GPS мэдээлэл ашиглан бодит зайны тооцоолол хийх боломжтой.

Дээрх зааварчилгаа нь төслийн бүтэц, суулгах арга, ашиглах заавар, техникийн дэлгэрэнгүй мэдээлэл зэргийг багтаасан бөгөөд хэрэглэгчид болон хөгжүүлэгчдэд тустай байх болно.